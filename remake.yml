sources:
  - createlookup.R

packages:
  - taxize
  - devtools

targets:
  all:
    depends:
      - downloadTPL
      - data/plant_lookup.rda

  VascularPlantFamilies:
     command: getTplVascularPlantFamilies()

  downloadTPL:
    command: downloadPlantList(VascularPlantFamilies)

  tplGenera:
    command: combineGeneraLists(downloadTPL,VascularPlantFamilies)

  lookupRaw:
    command: matchPlantListFamiliesToApweb(tplGenera)

  lookupPatch:
    command: read_csv("source_data/genus_order_lookup_fae.csv")
  badTPL:
    command: read_csv("source_data/badGeneraFamilyPairs.csv")

  lookupFixed:
    command: fixFernsAndOtherProblems(lookupRaw, lookupPatch, badTPL)

  genusFamilyOrder.csv:
    command: outputFlatFile(lookupFixed)

  data/plant_lookup.rda:
    command: packageData(lookupFixed, target_name)
